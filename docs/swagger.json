{
    "swagger": "2.0",
    "info": {
        "description": "Tefs 用户创建腾讯云环境",
        "title": "Tefs 用户安装腾讯云 API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "email": "support@bullteam.cn"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "V0.1"
    },
    "basePath": "/api",
    "paths": {
        "/cloudEnv/account": {
            "get": {
                "description": "获取腾讯云主账户id",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "获取腾讯云账户id seq:3",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"account\":\"100012471344\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/account/verify": {
            "get": {
                "description": "腾讯云账户验证接口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "腾讯云账户验证",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"ok\":true}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/cos": {
            "post": {
                "description": "创建腾讯云对象存储COS接口",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "创建腾讯云对象存储COS seq:7",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云AppId",
                        "name": "tencentAppId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"cos_bucket_name\":\"tefs-cos-asd134s\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/project": {
            "post": {
                "description": "创建腾讯云项目接口",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "创建腾讯云项目 seq:2",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"project_id\": 1201126}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/region": {
            "get": {
                "description": "设置讯云地区信(region, zone)息接口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "设置腾讯云地区信息 seq:1",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"region\":\"ap-nanjing\",\"zone\":\"ap-nanjing-3\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/securityGroup": {
            "post": {
                "description": "创建腾讯云安全组接口",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "创建腾讯云安全组 seq:5",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"security_group_id\":\"sg-hkzz4497\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/securityGroup/policies": {
            "post": {
                "description": "腾讯云安全组添加开放访问规则接口",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "腾讯云安全组添加开放访问规则 seq:6",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"ok\":true}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/tke": {
            "post": {
                "description": "创建腾讯云TKE集群接口",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "创建腾讯云TKE集群 seq:8",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"cluster_id\":\"tke-hb528v8v\",\"instance_pass_word\":\"xxxxxxxxxxxx\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/tke/instance/publicIpAddress": {
            "get": {
                "description": "获取腾讯云TKE 实例公网ip地址接口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "获取腾讯云TKE 实例公网ip地址 seq:11",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云TKE的cvm实例id",
                        "name": "instanceId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"public_ip_address\":\"127.0.0.1\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/tke/instance/status": {
            "get": {
                "description": "获取腾讯云TKE cvm实例状态和id态接口 status=initializing(创建中) status=failed(创建异常) status=running(创建成功)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "获取腾讯云TKE cvm实例状态和id seq:10",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"status\":\"initializing\",\"instance_id\":\"xxxxx\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/tke/status": {
            "get": {
                "description": "获取腾讯云TKE集群状态接口 status=Creating(创建中) status=Abnormal(创建异常) status=Running(创建成功)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "获取腾讯云TKE集群状态 seq:9",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"status\":\"Creating\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/version": {
            "get": {
                "description": "获取创建腾讯云应用程序版本接口",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "创建腾讯云应用程序版本",
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":\"1.0\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/cloudEnv/vpc": {
            "post": {
                "description": "创建腾讯云私有网络和子网接口",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "腾讯云环境"
                ],
                "summary": "创建腾讯云私有网络 seq:4",
                "parameters": [
                    {
                        "type": "string",
                        "description": "腾讯云SecretId",
                        "name": "tencentCloudSecretId",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "腾讯云SecretKey",
                        "name": "tencentCloudSecretKey",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":200,\"data\":{\"vpc_id\":\"vpc-hb528v8v\", \"subnet_id\":\"xxxxx\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}